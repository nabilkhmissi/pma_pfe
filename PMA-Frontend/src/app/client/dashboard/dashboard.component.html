<section class="content">
    <div class="content-block">
        <div class="block-header">
            <!-- breadcrumb -->
            <app-breadcrumb [title]="'Dashboard'" [items]="['Home']" [active_item]="'Dashboard'"></app-breadcrumb>
        </div>
        <!-- Widgets -->
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="body">
                        <div class="row align-items-center">
                            <div class="col-md-4">
                                <img [src]="user.image" alt="" class="w-75">
                            </div>
                            <div class="col-md-8">
                                <h4 class="font-20 weight-500 mb-2">
                                    Welcome back
                                    <div class="weight-500 font-30 col-blue pt-1">{{user.fullName}}!</div>
                                </h4>
                                <p class="font-18 max-width-600">We would like to take this opportunity to welcome you
                                    to our practice and to thank you for choosing our company. </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- #END# Widgets -->
        <div class="row" *ngIf="projects">
            <div class="col-xl-4 col-lg-6">
                <div class="card l-bg-cyan-dark">
                    <div class="card-statistic-3">
                        <div class="card-icon card-icon-large"><i class="fa fa-briefcase"></i></div>
                        <div class="card-content">
                            <h4 class="card-title">Running Projects</h4>
                            <span class="data-1">{{nb_progrees}}</span>


                        </div>
                    </div>
                </div>
            </div>
            <!--      <div class="col-xl-3 col-lg-6">
                <div class="card l-bg-orange-dark">
                    <div class="card-statistic-3">
                        <div class="card-icon card-icon-large"><i class="fa fa-briefcase"></i></div>
                        <div class="card-content">
                            <h4 class="card-title">On hold Projects</h4>
                            <span class="data-1">{{nb_onhold}}</span>


                        </div>
                    </div>
                </div>
            </div> -->
            <div class="col-xl-4 col-lg-6">
                <div class="card l-bg-green-dark">
                    <div class="card-statistic-3">
                        <div class="card-icon card-icon-large"><i class="fa fa-briefcase"></i></div>
                        <div class="card-content">
                            <h4 class="card-title">Completed Projects</h4>
                            <span class="data-1">{{nb_Completed}}</span>


                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-4 col-lg-6">
                <div class="card l-bg-yellow">
                    <div class="card-statistic-3">
                        <div class="card-icon card-icon-large"><i class="fa fa-briefcase"></i></div>
                        <div class="card-content">
                            <h4 class="card-title">All Projects</h4>
                            <span class="data-1">{{projects.length}}</span>


                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="row">
            <!-- <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                <div class="card">
                    <div class="card-body">
                        <div class="float-start">
                            <h6 class="text-muted">Project Hourly Work</h6>
                            <h5>My Shop App <span class="text-muted font-12">(Android)</span></h5>
                        </div>
                        <div class="mb-5">
                            <apx-chart [series]="restRateChartOptions.series" [chart]="restRateChartOptions.chart" [xaxis]="restRateChartOptions.xaxis" [stroke]="restRateChartOptions.stroke" [colors]="restRateChartOptions.colors" [dataLabels]="restRateChartOptions.dataLabels" [legend]="restRateChartOptions.legend"
                                [markers]="restRateChartOptions.markers" [grid]="restRateChartOptions.grid" [yaxis]="restRateChartOptions.yaxis" [tooltip]="restRateChartOptions.tooltip" [title]="restRateChartOptions.title"></apx-chart>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
                <div class="card">
                    <div class="card-body">
                        <div class="float-start">
                            <h6 class="text-muted">Project Hourly Work</h6>
                            <h5>ERP System <span class="text-muted font-12">(Java)</span></h5>
                        </div>
                        <div class="mb-5">
                            <apx-chart [series]="performanceRateChartOptions.series" [chart]="performanceRateChartOptions.chart" [xaxis]="performanceRateChartOptions.xaxis" [stroke]="performanceRateChartOptions.stroke" [colors]="performanceRateChartOptions.colors" [dataLabels]="performanceRateChartOptions.dataLabels"
                                [legend]="performanceRateChartOptions.legend" [markers]="performanceRateChartOptions.markers" [grid]="performanceRateChartOptions.grid" [yaxis]="performanceRateChartOptions.yaxis" [tooltip]="performanceRateChartOptions.tooltip"
                                [title]="performanceRateChartOptions.title"></apx-chart>
                        </div>
                    </div>
                </div>
            </div> -->
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="card">
                    <div class="header">
                        <h2>Project progress details</h2>
                    </div>
                    <div class="body" *ngIf="projects">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="d-flex justify-content-between mt-2 text-dark mb-2">
                                    <div><span class="fw-bold">{{projects.length}}</span> Projects </div>
                                    <div>Completed: {{nb_Completed}}</div>
                                </div>

                            </div>
                            <div class="col-sm-12">
                                <div class="search-traffic">
                                    <div class="d-flex justify-content-between mb-1 mt-2">
                                        <div class="fw-bold">Project Name</div>
                                        <div class="fw-bold">Completed</div>
                                    </div>
                                    <div class="d-flex justify-content-between traffic-source"
                                        *ngFor="let item of projects;let i=index">
                                        <div><span><i class="fa fa-circle msr-2"
                                                    [ngClass]="getColor(i)"></i></span>{{item.Projectname}}</div>
                                        <div><strong>{{item.progress.toFixed(0)}}%</strong></div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="card">
                    <div class="header">
                        <h2>Claims</h2>
                    </div>
                    <div class="tableBody">
                        <div class="responsive_table">
                            <table class="table table-hover ">
                                <thead>
                                    <tr>
                                        <th>Code</th>
                                        <th>Title</th>
                                        <th>Type claim</th>
                                        <th>Date</th>
                                        <th>Status</th>
                                        <th>Project </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of reclamations">
                                        <td>{{item.CodeRec}} </td>
                                        <td>{{item.Title}} </td>
                                        <td>{{item.Type_Reclamation}}</td>
                                        <td>{{item.Addeddate}} </td>
                                        <td>
                                            <div *ngIf="item.status=='Treated'">
                                                <span class="badge badge-solid-green">
                                                    {{item.status}}</span>
                                            </div>
                                            <div *ngIf="item.status=='Pending'">
                                                <span class="badge badge-solid-red">
                                                    {{item.status}}</span>
                                            </div>
                                            <div *ngIf="item.status=='In treatment'">
                                                <span class="badge badge-solid-orange">
                                                    {{item.status}}</span>
                                            </div>
                                        </td>
                                        <td>
                                            {{item.project.Projectname}}
                                        </td>

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>